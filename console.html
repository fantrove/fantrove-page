<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0d1117">
    <title>Fantrove Console Pro</title>
    <link rel="stylesheet" href="console.css">
    
</head>
<body>
    <div class="header">
        <div class="brand">
            <div class="brand-icon">‚óâ</div>
            <span>Fantrove Console</span>
        </div>
        <div class="header-actions">
            <button class="btn" onclick="consolePro.toggleCapture()" id="capture-btn">
                <span class="btn-icon" id="capture-icon">‚è∏</span>
                <span>Pause</span>
            </button>
            <button class="btn" onclick="consolePro.exportLogs()">
                <span class="btn-icon">üì•</span>
            </button>
            <button class="btn" onclick="consolePro.clear()" style="color: var(--accent-red);">
                <span class="btn-icon">üóë</span>
            </button>
        </div>
    </div>

    <div class="connection-bar">
        <div class="status-indicator">
            <span class="status-dot" id="status-dot"></span>
            <span id="status-text">Initializing...</span>
        </div>
        <div>
            <span class="sync-status" id="sync-status">Loading...</span>
        </div>
    </div>

    <div class="error-banner" id="error-banner">
        ‚ö†Ô∏è <span id="error-message">Connection error</span>
        <button class="retry-btn" onclick="consolePro.retryConnection()">Retry</button>
    </div>

    <div class="toolbar">
        <div class="filter-group">
            <button class="filter-btn active" data-level="all" onclick="consolePro.setFilter('all')">
                All <span class="badge" id="count-all">0</span>
            </button>
        </div>
        <div class="filter-group">
            <button class="filter-btn active" data-level="error" onclick="consolePro.setFilter('error')">
                Errors <span class="badge" id="count-error">0</span>
            </button>
            <button class="filter-btn active" data-level="warn" onclick="consolePro.setFilter('warn')">
                Warnings <span class="badge" id="count-warn">0</span>
            </button>
            <button class="filter-btn active" data-level="info" onclick="consolePro.setFilter('info')">
                Info <span class="badge" id="count-info">0</span>
            </button>
            <button class="filter-btn active" data-level="log" onclick="consolePro.setFilter('log')">
                Logs <span class="badge" id="count-log">0</span>
            </button>
            <button class="filter-btn active" data-level="debug" onclick="consolePro.setFilter('debug')">
                Debug <span class="badge" id="count-debug">0</span>
            </button>
        </div>
        <div class="search-box">
            <span class="search-icon">üîç</span>
            <input type="text" id="search-input" placeholder="Search..." oninput="consolePro.search(this.value)">
        </div>
    </div>

    <div class="console-container" id="console-output">
        <div class="empty-state" id="initial-state">
            <div class="empty-icon">‚òÅÔ∏è</div>
            <div class="empty-text">Ready</div>
            <div class="empty-hint">Console is starting...</div>
        </div>
    </div>

    <div class="input-section">
        <div class="input-header">
            <span>JavaScript Console</span>
            <span>30-day retention</span>
        </div>
        <div class="input-wrapper">
            <span class="input-prompt">‚ùØ</span>
            <textarea class="console-input" id="js-input" rows="1" 
                placeholder="Enter command..."
                onkeydown="consolePro.handleInput(event)"
                oninput="this.style.height='auto';this.style.height=Math.min(this.scrollHeight,100)+'px'"></textarea>
            <button class="send-btn" onclick="consolePro.executeFromButton()">‚ñ∂</button>
        </div>
    </div>

    <div class="footer">
        <div class="footer-stats">
            <span class="stat">Total: <span class="stat-value" id="stat-total">0</span></span>
            <span class="stat">Code: <span class="stat-value error" id="stat-code">0</span></span>
            <span class="stat">Network: <span class="stat-value warn" id="stat-network">0</span></span>
        </div>
        <div id="storage-info">‚òÅÔ∏è Supabase</div>
    </div>

    <script src="console.js"></script>
</body>
</html>
